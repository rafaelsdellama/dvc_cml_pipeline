schema: '2.0'
stages:
  prepare:
    cmd: python3 src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 0b0b1130ececa4efb762a1a545cc69d6
      size: 1204
    params:
      params.yaml:
        prepare.random_state: 42
        prepare.test_size: 0.33
    outs:
    - path: data/prepared
      md5: 16ca6e35f66518ac034d8fbac55f31bd.dir
      size: 4386
      nfiles: 2
  featurize:
    cmd: python3 src/featurize.py data/prepared data/features
    deps:
    - path: data/prepared
      md5: 16ca6e35f66518ac034d8fbac55f31bd.dir
      size: 4386
      nfiles: 2
    - path: src/featurize.py
      md5: c294d57168678f6418fe8c8a28eb03be
      size: 1422
    outs:
    - path: data/features
      md5: ec6e8711e24ae6ca0339aafd572726ca.dir
      size: 7504
      nfiles: 2
  train:
    cmd: python3 src/train.py data/features models/model.pkl
    deps:
    - path: data/features
      md5: ec6e8711e24ae6ca0339aafd572726ca.dir
      size: 7504
      nfiles: 2
    - path: src/train.py
      md5: 368e4593e4f9a307eb5197fefdfdecf9
      size: 1197
    params:
      params.yaml:
        train.import_module: sklearn.ensemble
        train.name: RandomForestClassifier
        train.params.n_estimators: 10
        train.params.n_jobs: -1
        train.params.random_state: 42
    outs:
    - path: models/model.pkl
      md5: 68d8890c4f853aef76c0895a849b1544
      size: 16841
  evaluate:
    cmd: python3 src/evaluate.py models/model.pkl data/features metrics/scores.json
      metrics/cm_classes.csv
    deps:
    - path: data/features
      md5: ec6e8711e24ae6ca0339aafd572726ca.dir
      size: 7504
      nfiles: 2
    - path: models/model.pkl
      md5: 68d8890c4f853aef76c0895a849b1544
      size: 16841
    - path: src/evaluate.py
      md5: 137af99858bccb9729c1d09b61687dbb
      size: 1961
    params:
      params.yaml:
        evaluate.metrics:
        - accuracy
        - balanced_accuracy
        - adjusted_rand_score
    outs:
    - path: metrics/scores.json
      md5: bbcb2e36da34d119f1e0dfe3b5b2ecd4
      size: 97
